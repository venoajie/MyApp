from utilities.string_modification import extract_integers_from_text

my_trades_currency_strategy = [{'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728982100783', 'amount': -5.0, 'price': 2616.75, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728982019074', 'amount': -5.0, 'price': 2616.8, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728981999872', 'amount': -5.0, 'price': 2616.5, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728981902534', 'amount': -5.0, 'price': 2616.5, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728981782170', 'amount': -5.0, 'price': 2616.65, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728981728062', 'amount': -5.0, 'price': 2616.25, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728981702952', 'amount': -5.0, 'price': 2615.85, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2618.85, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2618.65, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2618.9, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728968444406', 'amount': -5.0, 'price': 2615.25, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728968427153', 'amount': -5.0, 'price': 2613.95, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728968372481', 'amount': -5.0, 'price': 2613.95, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2616.9, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2617.05, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2617.05, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2617.1, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2617.1, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2616.95, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2614.2, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2614.2, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2614.5, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728936560010', 'amount': 4.0, 'price': 2620.3, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728936560010', 'amount': -1.0, 'price': 2620.45, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728936560010', 'amount': -4.0, 'price': 2620.45, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728911289184', 'amount': -5.0, 'price': 2560.8, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728813726898', 'amount': 1.0, 'price': 2560.75, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728871050999', 'amount': -5.0, 'price': 2451.75, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728813726898', 'amount': 1.0, 'price': 2468.35, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728813726898', 'amount': 1.0, 'price': 2468.5, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728863295311', 'amount': -5.0, 'price': 2468.05, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-closed-1728813726898', 'amount': 1.0, 'price': 2468.45, 'side': 'buy'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728862539893', 'amount': -5.0, 'price': 2467.15, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728860505912', 'amount': -1.0, 'price': 2467.1, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728860505912', 'amount': -4.0, 'price': 2467.1, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728860477034', 'amount': -5.0, 'price': 2466.1, 'side': 'sell'}, 
                               , {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728858793763', 'amount': -5.0, 'price': 2465.2, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728854032649', 'amount': -2.0, 'price': 2460.4, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728854032649', 'amount': -3.0, 'price': 2460.4, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728853445913', 'amount': -5.0, 'price': 2459.3, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728853128426', 'amount': -5.0, 'price': 2459.75, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728853119607', 'amount': -5.0, 'price': 2458.65, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728853101037', 'amount': -5.0, 'price': 2458.25, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728853066188', 'amount': -5.0, 'price': 2457.95, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728817282020', 'amount': -5.0, 'price': 2464.15, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728816519523', 'amount': -5.0, 'price': 2465.8, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728813726898', 'amount': -4.0, 'price': 2468.55, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728813726898', 'amount': -1.0, 'price': 2468.55, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728813698926', 'amount': -5.0, 'price': 2467.8, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728813689354', 'amount': -5.0, 'price': 2467.8, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728813663777', 'amount': -5.0, 'price': 2467.8, 'side': 'sell'}, {'instrument_name': 'ETH-PERPETUAL', 'label': 'hedgingSpot-open-1728808854950', 'amount': -5.0, 'price': 2466.65, 'side': 'sell'}, 
                               
                               
                               
                               
                               
label_int = str(extract_integers_from_text("hedgingSpot-open-1728806470451"))
selected= sum([o["amount"] for o in my_trades_currency_strategy if label_int  in o["label"]]) < 0

print (selected)